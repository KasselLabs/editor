<!-- For tests only, run "http-server" on the terminal -->

<!DOCTYPE html>
<html>
  <head>
    <style>
      html, body {
        margin: 0;
        background: #333;
      }

      .cropper-container {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column
      }

      button {
        font-size: 2em;
      }
    </style>
  </head>
  <body>
    <div class="cropper-container">
      <div id="cropper" style="height: 70vh; width: 100%"></div>
      <button type="button" onclick="console.log(savedCrops)">
        Export
      </button>
    </div>
    <script src="/dist/editor.js"></script>
    <script>
      let savedCrops = [
        {
          "end": 6.042,
          "start": 0,
          "cropCenter": {
            "x": 896.586856842041,
            "y": 540,
            "width": 64.6420669555664
          }
        },
        {
          "end": 8.5,
          "start": 6.042,
          "cropCenter": {
            "x": 951.767520904541,
            "y": 540,
            "width": 272.6798629760742
          }
        },
        {
          "end": 10.167,
          "start": 8.5,
          "cropCenter": {
            "x": 1124.5987701416016,
            "y": 540,
            "width": 249.59449768066406
          }
        },
        {
          "end": 15.25,
          "start": 10.167,
          "cropCenter": {
            "x": 908.2357978820801,
            "y": 540,
            "width": 294.1366195678711
          }
        },
        {
          "end": 22.792,
          "start": 15.25,
          "cropCenter": {
            "x": 1575.3128814697266,
            "y": 540,
            "width": 60.00709533691406
          }
        },
        {
          "end": 29.292,
          "start": 22.792,
          "cropCenter": {
            "x": 1030.991449356079,
            "y": 540,
            "width": 288.8606071472168
          }
        },
        {
          "end": 30.334,
          "start": 29.292,
          "cropCenter": {
            "x": 875.2920913696289,
            "y": 540,
            "width": 278.8691711425781
          }
        },
        {
          "end": 36.917,
          "start": 30.334,
          "cropCenter": {
            "x": 1030.9849834442139,
            "y": 540,
            "width": 292.87004470825195
          }
        },
        {
          "end": 42.876,
          "start": 36.917,
          "cropCenter": {
            "x": 927.1971702575684,
            "y": 540,
            "width": 258.2870864868164
          }
        },
        {
          "end": 44.292,
          "start": 42.876,
          "cropCenter": {
            "x": 980.5438613891602,
            "y": 540,
            "width": 272.33367919921875
          }
        },
        {
          "end": 49.584,
          "start": 44.292,
          "cropCenter": {
            "x": 1050.680809020996,
            "y": 540,
            "width": 262.880859375
          }
        },
        {
          "end": 51.084,
          "start": 49.584,
          "cropCenter": {
            "x": 955.8530616760254,
            "y": 540,
            "width": 260.4580307006836
          }
        },
        {
          "end": 59.751,
          "start": 51.084,
          "cropCenter": {
            "x": 1039.4718074798584,
            "y": 540,
            "width": 244.87993240356445
          }
        },
        {
          "end": 60.043,
          "start": 59.751,
          "cropCenter": {
            "x": 932.5974941253662,
            "y": 540,
            "width": 268.967227935791
          }
        }
      ]

      const cropSubtitleEditor = new Autoeditor.CropSubtitleEditor("#cropper", {
        // __editorURL: 'http://localhost:3000',
        video: 'https://autoeditorfiles.kassellabs.io/autoeditor/c0bd38b235e.mp4',
        // crops: savedCrops,
      })

      cropSubtitleEditor.on('ready', ({ crops }) => {
        console.log('The player was successfully mounted and finished loading')
      })

      cropSubtitleEditor.on('change', ({ crops }) => {
        console.log('User has changed the crops to:', crops)
        savedCrops = crops
      })
    </script>
  </body>
</html>
